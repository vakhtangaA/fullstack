{"version":3,"sources":["App.js","index.js"],"names":["App","useState","blogs","setBlogs","useEffect","fetch","then","res","json","data","blogsIsntEmpty","blogsIsEmpty","handleClick","event","index","target","parentElement","getAttribute","id","_id","updatedBlog","currBlogs","likes","axios","put","handleDlt","updateState","a","delete","map","item","title","author","url","className","href","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yOAmGeA,MAhGf,WAAgB,IAAD,EACYC,mBAAS,MADrB,mBACPC,EADO,KACAC,EADA,KAGdC,qBAAU,WACTC,MAAM,cACJC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIN,EAASM,QACtB,IAEH,IACIC,EADEC,EAAe,4CAGrB,SAASC,EAAYC,GACpB,IAAMC,EAAQD,EAAME,OAAOC,cAAcC,aAAa,SAChDC,EAAKL,EAAME,OAAOE,aAAa,MAC/BE,EAAMN,EAAME,OAAOE,aAAa,OAEhCG,EAAclB,EAAMY,GACpBO,EAAS,YAAOnB,GAEX,WAAPgB,EACHE,EAAYE,QACK,aAAPJ,GACVE,EAAYE,QAGbD,EAAUP,GAASM,EAEnBjB,EAASkB,GAETE,IAAMC,IAAN,WAAcL,GAAOC,GA9BR,SAqCCK,EArCD,gFAqCd,WAAyBZ,EAAOa,GAAhC,eAAAC,EAAA,6DACOT,EAAKL,EAAME,OAAOE,aAAa,OADtC,SAEOM,IAAMK,OAAN,WAAiBV,IAFxB,OAKCb,MAAM,cACJC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIN,EAASM,MAPzB,4CArCc,sBA6Fd,OA3CIP,IACHQ,EAAiBR,EAAM2B,KAAI,SAACC,EAAMhB,GAAW,IACpCK,EAAmCW,EAAnCX,IAAKY,EAA8BD,EAA9BC,MAAOC,EAAuBF,EAAvBE,OAAQC,EAAeH,EAAfG,IAAKX,EAAUQ,EAAVR,MACjC,OACC,sBAAeY,UAAU,OAAOpB,MAAOA,EAAvC,UACC,6BAAKiB,IACL,6BAAKC,IACL,oBAAGG,KAAMF,EAAT,8BACmB,IAClB,iCACC,4BAAID,SAGN,wCAAWV,KACX,wBACCH,IAAKA,EACLD,GAAG,SACHgB,UAAU,MACVE,QAASxB,EAJV,oBAQA,wBACCO,IAAKA,EACLD,GAAG,WACHgB,UAAU,MACVE,QAASxB,EAJV,sBAQA,wBACCO,IAAKA,EACLe,UAAU,aACVE,QAASX,EAHV,oBAOA,yBAjCSN,OAuCN,8BAAMjB,EAAQQ,EAAiBC,KC3FvC0B,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDC,SAASC,eAAe,W","file":"static/js/main.2cd6c8ee.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n\tconst [blogs, setBlogs] = useState(null);\n\n\tuseEffect(() => {\n\t\tfetch(\"/api/blogs\")\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setBlogs(data));\n\t}, []);\n\n\tconst blogsIsEmpty = <h1>Loading...</h1>;\n\tlet blogsIsntEmpty;\n\n\tfunction handleClick(event) {\n\t\tconst index = event.target.parentElement.getAttribute(\"index\");\n\t\tconst id = event.target.getAttribute(\"id\");\n\t\tconst _id = event.target.getAttribute(\"_id\");\n\n\t\tconst updatedBlog = blogs[index];\n\t\tconst currBlogs = [...blogs];\n\n\t\tif (id === \"upvote\") {\n\t\t\tupdatedBlog.likes++;\n\t\t} else if (id === \"downvote\") {\n\t\t\tupdatedBlog.likes--;\n\t\t}\n\n\t\tcurrBlogs[index] = updatedBlog;\n\n\t\tsetBlogs(currBlogs);\n\n\t\taxios.put(`/${_id}`, updatedBlog);\n\t}\n\n\t// function updateState(blogs) {render\n\t// \tsetBlogs(blogs);\n\t// }\n\n\tasync function handleDlt(event, updateState) {\n\t\tconst id = event.target.getAttribute(\"_id\");\n\t\tawait axios.delete(`/${id}`);\n\t\t// const blogs = await axios.get(\"/api/blogs\");\n\n\t\tfetch(\"/api/blogs\")\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setBlogs(data));\n\n\t\t// console.log(blogs);\n\t\t// setBlogs(blogs);\n\t}\n\n\tif (blogs) {\n\t\tblogsIsntEmpty = blogs.map((item, index) => {\n\t\t\tconst { _id, title, author, url, likes } = item;\n\t\t\treturn (\n\t\t\t\t<div key={_id} className=\"blog\" index={index}>\n\t\t\t\t\t<h2>{title}</h2>\n\t\t\t\t\t<h3>{author}</h3>\n\t\t\t\t\t<a href={url}>\n\t\t\t\t\t\treading link with{\" \"}\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<i>{author}</i>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t</a>\n\t\t\t\t\t<p>likes: {likes}</p>\n\t\t\t\t\t<button\n\t\t\t\t\t\t_id={_id}\n\t\t\t\t\t\tid=\"upvote\"\n\t\t\t\t\t\tclassName=\"btn\"\n\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t>\n\t\t\t\t\t\tUpvote\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\t_id={_id}\n\t\t\t\t\t\tid=\"downvote\"\n\t\t\t\t\t\tclassName=\"btn\"\n\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t>\n\t\t\t\t\t\tDownvote\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\t_id={_id}\n\t\t\t\t\t\tclassName=\"btn dltBtn\"\n\t\t\t\t\t\tonClick={handleDlt}\n\t\t\t\t\t>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</button>\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t}\n\n\treturn <div>{blogs ? blogsIsntEmpty : blogsIsEmpty}</div>;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}