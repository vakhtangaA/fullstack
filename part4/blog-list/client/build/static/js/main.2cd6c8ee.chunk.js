(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var c=n(2),i=n.n(c),r=n(16),s=n.n(r),a=(n(24),n(6)),o=n.n(a),u=n(17),l=n(18),d=n(19),j=n(7),b=n.n(j),h=n(0);var p=function(){var t=Object(c.useState)(null),e=Object(d.a)(t,2),n=e[0],i=e[1];Object(c.useEffect)((function(){fetch("/api/blogs").then((function(t){return t.json()})).then((function(t){return i(t)}))}),[]);var r,s=Object(h.jsx)("h1",{children:"Loading..."});function a(t){var e=t.target.parentElement.getAttribute("index"),c=t.target.getAttribute("id"),r=t.target.getAttribute("_id"),s=n[e],a=Object(l.a)(n);"upvote"===c?s.likes++:"downvote"===c&&s.likes--,a[e]=s,i(a),b.a.put("/".concat(r),s)}function j(t,e){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(o.a.mark((function t(e,n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.target.getAttribute("_id"),t.next=3,b.a.delete("/".concat(c));case 3:fetch("/api/blogs").then((function(t){return t.json()})).then((function(t){return i(t)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return n&&(r=n.map((function(t,e){var n=t._id,c=t.title,i=t.author,r=t.url,s=t.likes;return Object(h.jsxs)("div",{className:"blog",index:e,children:[Object(h.jsx)("h2",{children:c}),Object(h.jsx)("h3",{children:i}),Object(h.jsxs)("a",{href:r,children:["reading link with"," ",Object(h.jsx)("strong",{children:Object(h.jsx)("i",{children:i})})]}),Object(h.jsxs)("p",{children:["likes: ",s]}),Object(h.jsx)("button",{_id:n,id:"upvote",className:"btn",onClick:a,children:"Upvote"}),Object(h.jsx)("button",{_id:n,id:"downvote",className:"btn",onClick:a,children:"Downvote"}),Object(h.jsx)("button",{_id:n,className:"btn dltBtn",onClick:j,children:"Delete"}),Object(h.jsx)("hr",{})]},n)}))),Object(h.jsx)("div",{children:n?r:s})};s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.2cd6c8ee.chunk.js.map